<div class="home">
  <header class="home__header">
    <h1>Financial Grades - {{ symbol() }}</h1>

    <div class="home__actions">
      <button mat-button (click)="loadGrades()">
        <mat-icon>refresh</mat-icon>
        Refresh
      </button>

      <mat-button-toggle-group
        [value]="viewMode()"
        (valueChange)="onChangeView($event)"
        class="home__toggle"
        exclusive
      >
        <mat-button-toggle value="cards">
          <mat-icon>view_module</mat-icon>
          Cards
        </mat-button-toggle>
        <mat-button-toggle value="table">
          <mat-icon>table_chart</mat-icon>
          Table
        </mat-button-toggle>
      </mat-button-toggle-group>
    </div>
  </header>

  @if (loading()) {
  <div class="home__spinner">
    <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
  </div>
  } @else if (error()) {
  <p class="home__error">{{ error() }}</p>
  } @else {
  <section [@listAnimation]>
    @if (viewMode() === 'cards') {
    <div class="home__cards">
      @for (grade of grades(); track grade.date + grade.gradingCompany; let i =
      $index) {
      <app-grade-card
        [grade]="grade"
        [index]="i"
        (select)="onSelectGrade($event)"
      />
      }
    </div>
    } @else {
    <app-grade-grid [grades]="grades()" (select)="onSelectGrade($event)" />
    }
  </section>
  }
</div>
